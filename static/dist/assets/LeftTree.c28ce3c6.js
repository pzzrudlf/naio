import{k as y,p as d,l as v,bX as x,q as C,a as T,o as c,s as f,v as B,g as _,c as h,x as N,e as t,bY as D,aD as b,B as w,bZ as E,b5 as L,t as M}from"./index.8b30d168.js";import{E as q}from"./el-tree.6dd90539.js";import"./el-checkbox.4c6020a8.js";function P(p){const n=y(),s=d({data:[]}),o=d({id:"",name:""}),r=d({children:"children",label:"name"}),u=e=>{console.log("\u70B9\u51FB\u4E86\u6811\u4E86"),o.id=e.id,o.name=e.name,console.log(o),p("treeClick",e.id)},a=async()=>{let e=await x();e&&e.code==200&&(s.data=e.data,C(()=>{const l=document.querySelector(".el-tree-node");l&&l.click()}))};return v(()=>{a()}),{treeData:s,defaultProps:r,handleNodeClick:u,getTreeData:a,openBtn:e=>{console.log(e),e.open=!e.open,n.value&&(n.value.store.nodesMap[e.id].expanded=!e.open)},parentTree:n,selectNode:o}}const S={class:"custom-tree-container"},V={key:0},A=["onClick"],$=T({name:"LeftTree",emits:["treeClick"],setup(p,{emit:n}){const{treeData:s,defaultProps:o,handleNodeClick:r,getTreeData:u,openBtn:a,parentTree:m,selectNode:e}=P(n);return(l,F)=>{const k=q;return c(),f(k,{ref_key:"parentTree",ref:m,data:t(s).data,"node-key":"id",props:t(o),"default-expand-all":"","highlight-current":!0,"expand-on-click-node":!1,onNodeClick:t(r)},{default:B(({node:g,data:i})=>[_("div",S,[i.children.length==0?(c(),h("span",V,[N(t(D),{style:{width:"1.3em",height:"1.3em","margin-right":"5px",color:"#8c8c8c"}})])):(c(),h("span",{key:1,onClick:L(R=>t(a)(i),["stop"])},[(c(),f(b(i.open?t(w):t(E)),{style:{width:"1.1em",height:"1.1em","margin-right":"5px",color:"#8c8c8c"}}))],8,A)),_("span",null,M(g.label),1)])]),_:1},8,["data","props","onNodeClick"])}}});export{$ as default};
