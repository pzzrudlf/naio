import{b1 as i,p as c,a as f,o as w,s as _,v as D,x as y,e as n}from"./index.8b30d168.js";import{E as C}from"./el-tree.6dd90539.js";import"./el-checkbox.4c6020a8.js";import{u as k,S as b}from"./useDialog.8d08ce90.js";const B=async e=>await i.get("/api/department/list",e),N=async()=>await i.get("/api/department/parent"),z=async e=>await i.post("/api/department",e),L=async e=>await i.put("/api/department",e),M=async e=>await i.delete("/api/department",e);function v(){const e=c({data:[]}),o=c({id:"",name:""}),s=c({children:"children",label:"name"});return{treeData:e,selectNode:o,defaultProps:s,handleNodeClick:a=>{o.id=a.id,o.name=a.name,console.log(o)},getTreeData:async()=>{let a=await N();a&&a.code==200&&(e.data=a.data)}}}const x=f({name:"parent",emits:["select"],setup(e,{expose:o,emit:s}){const{dialog:t,onClose:r,onShow:a}=k(),l=()=>{s("select",p),r()};o({show:async()=>{await m(),t.title="\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8",t.height=420,t.width=300,a()}});const{treeData:d,selectNode:p,defaultProps:u,handleNodeClick:h,getTreeData:m}=v();return(E,O)=>{const g=C;return w(),_(b,{title:n(t).title,width:n(t).width,height:n(t).height,visible:n(t).visible,onOnClose:n(r),onOnConfirm:l},{content:D(()=>[y(g,{data:n(d).data,props:n(u),"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0,"show-checkbox":!0,onNodeClick:n(h)},null,8,["data","props","onNodeClick"])]),_:1},8,["title","width","height","visible","onOnClose"])}}});var V=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}));export{x as _,z as a,M as d,L as e,B as g,V as p};
