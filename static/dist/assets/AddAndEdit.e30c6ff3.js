import{y as h,k as y,p as N,a as I,o as D,c as q,x as e,v as t,e as o,s as S,f as T,F as R,i as k,D as O}from"./index.8b30d168.js";/* empty css                *//* empty css                       */import{E as $,a as P}from"./el-radio.2829d223.js";import{E as j,b as z,c as G,a as H}from"./el-form-item.78367822.js";import"./el-input.55b498ca.js";import{_ as J}from"./parent.537a4f9b.js";import{u as K,S as L}from"./useDialog.8d08ce90.js";import{E as w,T as C}from"./baseEnum.d65d91be.js";import{u as Q}from"./useSelectParent.5b1f63f6.js";import"./el-tree.6dd90539.js";import"./el-checkbox.4c6020a8.js";function W(i,p,c,l,V){const{global:n}=h(),f=y();return{confirm:()=>{var s;(s=f.value)==null||s.validate(_=>{_&&(V("save",l),c())})},show:(s,_)=>{s==w.ADD?i.title=C.ADD:i.title=C.EDIT,p(),n.$resetForm(f.value,l),s==w.EDIT&&n.$objCopy(_,l),l.type=s},addUserForm:f,select:s=>{l.deptId=s.id,l.deptName=s.name,console.log(l)}}}function X(){const i=N({type:"",id:"",deptId:"",deptName:"",loginName:"",mobile:"",nickName:"",email:"",username:"",password:"",sex:""}),p=N({deptName:[{required:!0,message:"\u8BF7\u9009\u62E9\u4E0A\u7EA7\u90E8\u95E8",trigger:"change"}],loginName:[{required:!0,message:"\u8BF7\u586B\u5199\u59D3\u540D",trigger:"change"}],mobile:[{required:!0,message:"\u8BF7\u586B\u5199\u624B\u673A\u53F7",trigger:"change"}],username:[{required:!0,message:"\u8BF7\u586B\u5199\u767B\u5F55\u540D",trigger:"change"}],password:[{required:!0,message:"\u8BF7\u586B\u5199\u5BC6\u7801",trigger:"change"}],sex:[{required:!0,message:"\u8BF7\u586B\u5199\u6027\u522B",trigger:"change"}]});return{addModel:i,rules:p}}const Y=k("\u7537"),Z=k("\u5973"),pe=I({name:"AddAndEdit",emits:["save"],setup(i,{expose:p,emit:c}){const{addModel:l,rules:V}=X(),{dialog:n,onShow:f,onClose:B}=K(),{confirm:E,show:b,addUserForm:s,select:_}=W(n,f,B,l,c),{parentRef:U,selectParent:x}=Q();return p({show:b}),(M,a)=>{const d=O,r=j,m=z,g=G,F=$,v=P,A=H;return D(),q(R,null,[e(L,{title:o(n).title,width:o(n).width,height:o(n).height,visible:o(n).visible,onOnClose:o(B),onOnConfirm:o(E)},{content:t(()=>[e(A,{model:o(l),ref_key:"addUserForm",ref:s,rules:o(V),"label-width":"80px",inline:!1,size:"small"},{default:t(()=>[e(g,{gutter:20},{default:t(()=>[e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"deptName",label:"\u6240\u5C5E\u90E8\u95E8"},{default:t(()=>[e(d,{onClick:o(x),modelValue:o(l).deptName,"onUpdate:modelValue":a[0]||(a[0]=u=>o(l).deptName=u)},null,8,["onClick","modelValue"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"loginName",label:"\u59D3\u540D"},{default:t(()=>[e(d,{modelValue:o(l).loginName,"onUpdate:modelValue":a[1]||(a[1]=u=>o(l).loginName=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,{gutter:20},{default:t(()=>[e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"mobile",label:"\u7535\u8BDD"},{default:t(()=>[e(d,{modelValue:o(l).mobile,"onUpdate:modelValue":a[2]||(a[2]=u=>o(l).mobile=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"nickName",label:"\u6635\u79F0"},{default:t(()=>[e(d,{modelValue:o(l).nickName,"onUpdate:modelValue":a[3]||(a[3]=u=>o(l).nickName=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,{gutter:20},{default:t(()=>[e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"email",label:"\u90AE\u7BB1"},{default:t(()=>[e(d,{modelValue:o(l).email,"onUpdate:modelValue":a[4]||(a[4]=u=>o(l).email=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"username",label:"\u767B\u5F55\u540D"},{default:t(()=>[e(d,{modelValue:o(l).username,"onUpdate:modelValue":a[5]||(a[5]=u=>o(l).username=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(g,{gutter:20},{default:t(()=>[o(l).type!="1"?(D(),S(m,{key:0,span:12,offset:0},{default:t(()=>[e(r,{prop:"password",label:"\u5BC6\u7801"},{default:t(()=>[e(d,{modelValue:o(l).password,"onUpdate:modelValue":a[6]||(a[6]=u=>o(l).password=u)},null,8,["modelValue"])]),_:1})]),_:1})):T("",!0),e(m,{span:12,offset:0},{default:t(()=>[e(r,{prop:"sex",label:"\u6027\u522B"},{default:t(()=>[e(v,{modelValue:o(l).sex,"onUpdate:modelValue":a[7]||(a[7]=u=>o(l).sex=u)},{default:t(()=>[e(F,{label:"0"},{default:t(()=>[Y]),_:1}),e(F,{label:"1"},{default:t(()=>[Z]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","width","height","visible","onOnClose","onOnConfirm"]),e(J,{ref_key:"parentRef",ref:U,onSelect:o(_)},null,8,["onSelect"])],64)}}});export{pe as default};
