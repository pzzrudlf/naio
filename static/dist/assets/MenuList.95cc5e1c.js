import{p as A,l as g,bQ as x,y as I,k as v,bR as $,bS as R,bT as z,bi as L,a as N,q as S,o as _,c as V,x as e,v as n,e as i,B as H,s as f,f as E,C as q,A as G,F as Q,i as r,G as j,a3 as J,E as K}from"./index.8b30d168.js";import{E as O,a as P}from"./el-table-column.bddec628.js";import"./el-checkbox.4c6020a8.js";/* empty css                */import{E as U,a as W}from"./el-form-item.78367822.js";import{E as b}from"./baseEnum.d65d91be.js";import X from"./AddMenu.b73658e1.js";import{E as Y}from"./index2.1260ca42.js";import"./el-input.55b498ca.js";/* empty css                       */import"./el-radio.2829d223.js";import"./useDialog.8d08ce90.js";import"./MenuParent.2d3aa593.js";import"./el-tree.6dd90539.js";function Z(){const c=A({list:[]}),a=async()=>{let s=await x();s&&s.code==200&&(c.list=s.data)};return g(()=>{a()}),{menuTable:c,getMenuTable:a}}function ee(c){const{global:a}=I(),s=v();return{addBtn:()=>{var t;(t=s.value)==null||t.show(b.ADD)},editBtn:t=>{var o;(o=s.value)==null||o.show(b.EDIT,t)},deleteBtn:async t=>{if(await a.$myconfirm("\u786E\u5B9A\u5220\u9664\u8BE5\u6570\u636E\u5417?")){let d=await $(t);d&&d.code==200&&(a.$message({message:d.msg,type:"success"}),c())}},save:async t=>{console.log("\u7236\u7EC4\u4EF6\u63A5\u6536\u7684\u53C2\u6570==>",t);let o;t.type==b.ADD?o=await R(t):o=await z(t),o&&o.code==200&&(a.$message({message:o.msg,type:"success"}),c())},addMenuRef:s}}const te=r("\u65B0\u589E"),ne=r("\u76EE\u5F55"),oe=r("\u83DC\u5355"),ae=r("\u6309\u94AE"),se=r("\u7F16\u8F91"),le=r("\u5220\u9664"),ue=N({name:"MenuList",setup(c){const a=v(0),{menuTable:s,getMenuTable:y}=Z(),{addBtn:h,editBtn:B,deleteBtn:C,save:t,addMenuRef:o}=ee(y);return g(()=>{S(()=>{a.value=window.innerHeight-200})}),(d,ie)=>{const p=j,w=U,F=W,l=O,m=Y,k=J("Icon"),M=P,D=K;return _(),V(Q,null,[e(D,null,{default:n(()=>[e(F,{inline:!0,size:"small"},{default:n(()=>[e(w,null,{default:n(()=>[e(p,{type:"primary",onClick:i(h),icon:i(H)},{default:n(()=>[te]),_:1},8,["onClick","icon"])]),_:1})]),_:1}),e(M,{height:a.value,data:i(s).list,style:{width:"100%"},"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:n(()=>[e(l,{prop:"label",label:"\u83DC\u5355\u540D\u79F0"}),e(l,{prop:"type",label:"\u7C7B\u578B"},{default:n(u=>[u.row.type=="0"?(_(),f(m,{key:0},{default:n(()=>[ne]),_:1})):E("",!0),u.row.type=="1"?(_(),f(m,{key:1,type:"success"},{default:n(()=>[oe]),_:1})):E("",!0),u.row.type=="2"?(_(),f(m,{key:2,type:"danger"},{default:n(()=>[ae]),_:1})):E("",!0)]),_:1}),e(l,{prop:"label",label:"\u56FE\u6807"},{default:n(u=>[e(k,{class:"icons",icon:u.row.icon},null,8,["icon"])]),_:1}),e(l,{prop:"name",label:"\u8DEF\u7531\u540D\u79F0"}),e(l,{prop:"path",label:"\u8DEF\u7531\u5730\u5740"}),e(l,{prop:"url",label:"\u7EC4\u4EF6\u8DEF\u5F84"}),e(l,{prop:"code",label:"\u6743\u9650\u5B57\u6BB5"}),e(l,{label:"\u64CD\u4F5C",width:"210",align:"center"},{default:n(u=>[e(p,{type:"primary",size:"small",onClick:T=>i(B)(u.row),icon:i(q)},{default:n(()=>[se]),_:2},1032,["onClick","icon"]),e(p,{type:"danger",size:"small",onClick:T=>i(C)(u.row.id),icon:i(G)},{default:n(()=>[le]),_:2},1032,["onClick","icon"])]),_:1})]),_:1},8,["height","data"])]),_:1}),e(X,{ref_key:"addMenuRef",ref:o,onSave:i(t)},null,8,["onSave"])],64)}}});var ve=L(ue,[["__scopeId","data-v-5184d5a0"]]);export{ve as default};
