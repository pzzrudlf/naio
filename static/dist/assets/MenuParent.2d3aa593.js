import{p as l,bP as f,a as g,o as C,s as w,v as k,x as _,e as o}from"./index.8b30d168.js";import{E as b}from"./el-tree.6dd90539.js";import"./el-checkbox.4c6020a8.js";import{u as D,S as N}from"./useDialog.8d08ce90.js";function x(){const n=l({data:[]}),a=l({id:"",name:""}),s=l({children:"children",label:"label"});return{treeData:n,selectNode:a,defaultProps:s,handleNodeClick:t=>{a.id=t.id,a.name=t.label,console.log(a)},getTreeData:async()=>{let t=await f();t&&t.code==200&&(n.data=t.data)}}}const S=g({name:"MenuParent",emits:["select"],setup(n,{expose:a,emit:s}){const{dialog:e,onClose:i,onShow:t}=D(),c=()=>{s("select",d),i()};a({show:async()=>{await p(),e.title="\u9009\u62E9\u4E0A\u7EA7\u83DC\u5355",e.height=420,e.width=300,t()}});const{treeData:r,selectNode:d,defaultProps:h,handleNodeClick:u,getTreeData:p}=x();return(v,E)=>{const m=b;return C(),w(N,{title:o(e).title,width:o(e).width,height:o(e).height,visible:o(e).visible,onOnClose:o(i),onOnConfirm:c},{content:k(()=>[_(m,{data:o(r).data,props:o(h),"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0,"show-checkbox":!0,onNodeClick:o(u)},null,8,["data","props","onNodeClick"])]),_:1},8,["title","width","height","visible","onOnClose"])}}});export{S as default};
